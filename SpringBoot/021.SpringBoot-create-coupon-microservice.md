üöÄ **Creating Coupon Microservice Project**
- ‚Üí Go to Spring Tool Suite: File -> New -> Spring Starter Project.
- ‚Üí **Name:** `coupon-service`
- ‚Üí **Group:** `com.bharath.springboot`
- ‚Üí **Artifact:** `coupon-service`
- ‚Üí **Description:** `Coupon Micro Service`
- ‚Üí **Package:** `com.bharath.springboot`
- ‚Üí **Dependencies:**
  - ‚Üí `Spring Data JPA` (under SQL)
  - ‚Üí `MySQL Driver`

üì¶ **Coupon Entity (`Coupon.java`)**
- ‚Üí Create a new class `Coupon` in `src/main/java/com/bharath/springboot/model` (or `entities`).
- ‚Üí Define fields:
  - ‚Üí `private long id;`
  - ‚Üí `private String code;`
  - ‚Üí `private BigDecimal discount;`
  - ‚Üí `private String exp_date;`
- ‚Üí Generate getters and setters for all fields.
- ‚Üí Annotate the class with `@Entity`.
- ‚Üí Annotate the `id` field with `@Id`.
- ‚Üí For auto-incrementing ID, use `@GeneratedValue(strategy = GenerationType.IDENTITY)`.
```java
package com.bharath.springboot.model;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import java.math.BigDecimal;

@Entity
public class Coupon {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private long id;
    private String code;
    private BigDecimal discount;
    private String exp_date;

    // Getters and Setters
    public long getId() {
        return id;
    }

    public void setId(long id) {
        this.id = id;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public BigDecimal getDiscount() {
        return discount;
    }

    public void setDiscount(BigDecimal discount) {
        this.discount = discount;
    }

    public String getExp_date() {
        return exp_date;
    }

    public void setExp_date(String exp_date) {
        this.exp_date = exp_date;
    }
}
```

üóÑÔ∏è **Coupon Repository (`CouponRepo.java`)**
- ‚Üí Create a new interface `CouponRepo` in `src/main/java/com/bharath/springboot/repos`.
- ‚Üí Extend `JpaRepository`.
- ‚Üí Specify the entity type (`Coupon`) and its primary key type (`Long`).
```java
package com.bharath.springboot.repos;

import com.bharath.springboot.model.Coupon;
import org.springframework.data.jpa.repository.JpaRepository;

public interface CouponRepo extends JpaRepository<Coupon, Long> {
    // Finder method example
    Coupon findByCode(String code);
}
```

‚öôÔ∏è **Data Source Configuration (`application.properties`)**
- ‚Üí Configure database connection details in `src/main/resources/application.properties`.
```properties
spring.datasource.url=jdbc:mysql://localhost:3306/coupondb
spring.datasource.username=root
spring.datasource.password=testone,two,three,four
```

üß™ **Testing - Save Coupon**
- ‚Üí Open the generated test class (e.g., `CouponServiceApplicationTests.java`).
- ‚Üí Autowire `CouponRepo`.
- ‚Üí Write a test method to save a new `Coupon` entity.
```java
package com.bharath.springboot;

import com.bharath.springboot.model.Coupon;
import com.bharath.springboot.repos.CouponRepo;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.math.BigDecimal;

import static org.junit.jupiter.api.Assertions.assertNotNull;

@SpringBootTest
class CouponServiceApplicationTests {

    @Autowired
    private CouponRepo repo;

    @Test
    void saveCouponTest() {
        Coupon coupon = new Coupon();
        coupon.setCode("SUPERSALE");
        coupon.setDiscount(new BigDecimal(20));
        coupon.setExp_date("12/12/2025");
        Coupon savedCoupon = repo.save(coupon);
        assertNotNull(savedCoupon.getId());
    }
}
```

üîç **Testing - Finder Method (`findByCode`)**
- ‚Üí Add `findByCode(String code)` abstract method to `CouponRepo` interface.
- ‚Üí Write a test method to retrieve a coupon by its code.
```java
package com.bharath.springboot;

import com.bharath.springboot.model.Coupon;
import com.bharath.springboot.repos.CouponRepo;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.math.BigDecimal;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;

@SpringBootTest
class CouponServiceApplicationTests {

    @Autowired
    private CouponRepo repo;

    // ... (saveCouponTest method from above)

    @Test
    void findByCodeTest() {
        Coupon coupon = repo.findByCode("SUPERSALE");
        assertNotNull(coupon);
        assertEquals(new BigDecimal(20), coupon.getDiscount());
    }
}
```